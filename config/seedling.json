{
  "header": {
    "signature": "SprigglerConfig",
    "version": "1.0",
    "name": "seedling",
    "description": "Single seedling environment migrated from growseedling",
    "author": "growseedling",
    "created": "2025-01-15T00:00:00Z",
    "modified": "2025-01-15T00:00:00Z",
    "upstream": {
      "url": "https://growseedling.spriggle.diy/api"
    }
  },
  "environments": {
    "defaults": {
      "air": {
        "source": "ambient",
        "exhaust": "external"
      }
    },
    "definitions": [
      {
        "id": "seedling",
        "name": "Seedling Tent",
        "properties": {
          "temperature": {
            "sensors": [
              "temp_sensor"
            ],
            "controllers": [
              "heater",
              "exhaust_fan"
            ],
            "schedules": [
              "day",
              "night"
            ]
          },
          "humidity": {
            "sensors": [
              "humidity_sensor"
            ],
            "controllers": [
              "humidifier",
              "exhaust_fan"
            ],
            "schedules": [
              "day",
              "night"
            ]
          },
          "illumination": {
            "sensors": [],
            "controllers": [
              "light"
            ],
            "schedules": [
              "day",
              "night"
            ]
          }
        }
      }
    ]
  },
  "sensors": {
    "definitions": [
      {
        "id": "temp_sensor",
        "what": "temperature",
        "how": "Govee_H5100_temperature",
        "config": {
          "identifier": "2650",
          "refresh_rate": 30
        }
      },
      {
        "id": "humidity_sensor",
        "what": "humidity",
        "how": "Govee_H5100_humidity",
        "config": {
          "identifier": "2650",
          "refresh_rate": 30
        }
      }
    ]
  },
  "devices": {
    "defaults": {
      "power": {
        "circuit": "seedling_circuit",
        "rating": 800
      },
      "effects": {
        "heater": [
          {
            "property": "temperature",
            "type": "increase"
          }
        ],
        "exhaust_fan": [
          {
            "property": "temperature",
            "type": "dynamic_effect"
          },
          {
            "property": "humidity",
            "type": "dynamic_effect"
          }
        ],
        "humidifier": [
          {
            "property": "humidity",
            "type": "increase"
          }
        ],
        "light": [
          {
            "property": "illumination",
            "type": "state"
          }
        ]
      }
    },
    "definitions": [
      {
        "id": "heater",
        "what": "heater",
        "how": "KASA_Powerbar",
        "power": {
          "circuit": "seedling_circuit",
          "rating": 1000
        },
        "control": {
          "name": "seedling",
          "outlet_name": "Heater",
          "safety": {
            "target_state": "off",
            "timeout_minutes": 3,
            "enforce": true
          }
        }
      },
      {
        "id": "humidifier",
        "what": "humidifier",
        "how": "vesync_humidifier",
        "power": {
          "circuit": "seedling_circuit",
          "rating": 500
        },
        "control": {
          "name": "Dual 200S",
          "email": "bill@hiredgun.dev",
          "password": "Levoit5522t",
          "time_zone": "America/New_York"
        }
      },
      {
        "id": "exhaust_fan",
        "what": "exhaust_fan",
        "how": "KASA_Powerbar",
        "power": {
          "circuit": "seedling_circuit",
          "rating": 200
        },
        "control": {
          "name": "seedling",
          "outlet_name": "Fan"
        }
      },
      {
        "id": "light",
        "what": "light",
        "how": "KASA_Powerbar",
        "power": {
          "circuit": "seedling_circuit",
          "rating": 200
        },
        "control": {
          "name": "seedling",
          "outlet_name": "Lights"
        }
      }
    ]
  },
  "circuits": {
    "defaults": {
      "max_load": 1800
    },
    "definitions": [
      {
        "id": "seedling_circuit",
        "name": "15A Circuit for Seedling Tent"
      }
    ]
  },
  "schedules": {
    "definitions": [
      {
        "id": "day",
        "time_range": "06:00-22:00",
        "targets": {
          "temperature": {
            "min": 70,
            "max": 75
          },
          "humidity": {
            "min": 60,
            "max": 70
          },
          "illumination": "on"
        }
      },
      {
        "id": "night",
        "time_range": "22:00-06:00",
        "targets": {
          "temperature": {
            "min": 65,
            "max": 70
          },
          "humidity": {
            "min": 60,
            "max": 70
          },
          "illumination": "off"
        }
      }
    ]
  },
  "alerts": {
    "defaults": {
      "severity": "warning"
    },
    "definitions": [
      {
        "id": "high_temp",
        "condition": {
          "sensor": "temp_sensor",
          "operator": ">",
          "value": 80
        },
        "message": "Seedling tent temperature exceeds 80F.",
        "severity": "critical"
      },
      {
        "id": "high_humidity",
        "condition": {
          "sensor": "humidity_sensor",
          "operator": ">",
          "value": 80
        },
        "message": "Seedling tent humidity exceeds 80%.",
        "severity": "warning"
      }
    ]
  }
}
